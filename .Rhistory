group_by(date) %>%
mutate(total_words = n()) %>%
ungroup() %>%
# Implement sentiment analysis using the NRC lexicon
inner_join(get_sentiments("nrc"))
sentiment_by_time <- data %>%
# Define a new column using floor_date()
mutate(Date = floor_date(Date, unit = "6 months")) %>%
# Group by date
group_by(Date) %>%
mutate(total_words = n()) %>%
ungroup() %>%
# Implement sentiment analysis using the NRC lexicon
inner_join(get_sentiments("nrc"))
sentiment_by_time <- data %>%
# Define a new column using floor_date()
mutate(Date = floor_date(Date, unit = "6 months")) %>%
# Group by date
group_by(Date) %>%
mutate(total_words = n()) %>%
ungroup() %>%
# Implement sentiment analysis using the NRC lexicon
inner_join(get_sentiments("nrc"))
sentiment_by_time <- data %>%
# Define a new column using floor_date()
mutate(Date = floor_date(Date, unit = "6 months")) %>%
# Group by date
group_by(Date) %>%
mutate(total_words = n()) %>%
ungroup() %>%
# Implement sentiment analysis using the NRC lexicon
cross_join(get_sentiments("nrc"))
dates<- data$Date
data$Date <- as.Date(dates,
format = "%m/%d/%y")
sentiment_by_time <- data %>%
# Define a new column using floor_date()
mutate(Date = floor_date(Date, unit = "6 months")) %>%
# Group by date
group_by(Date) %>%
mutate(total_words = n()) %>%
ungroup() %>%
# Implement sentiment analysis using the NRC lexicon
inner_join(get_sentiments("nrc"))
data$Date <- as.Date(dates,
format = "%m/%d/%y")
sentiment_by_time <- data %>%
# Define a new column using floor_date()
mutate(Date = floor_date(Date, unit = "6 months")) %>%
# Group by date
group_by(Date) %>%
mutate(total_words = n()) %>%
ungroup() %>%
# Implement sentiment analysis using the NRC lexicon
inner_join(get_sentiments("afinn"))
sentiment_by_time <- data %>%
# Define a new column using floor_date()
mutate(Date = floor_date(Date, unit = "6 months")) %>%
# Group by date
group_by(Date) %>%
mutate(total_words = n()) #%>%
View(sentiment_by_time)
newdata <- select(data, Date, Description)
View(newdata)
sentiment_by_time2 <- newdata %>%
# Define a new column using floor_date()
mutate(Date = floor_date(Date, unit = "6 months")) %>%
# Group by date
group_by(Date) %>%
mutate(total_words = n()) #%>%
View(sentiment_by_time2)
View(sentiment_by_time)
View(sentiment_by_time2)
View(sentiment_by_time)
View(sentiment_by_time2)
View(data)
View(sentiment_by_time2)
View(sentiment_by_time)
sentiment_by_time2 <- newdata %>%
# Define a new column using floor_date()
mutate(Date = floor_date(Date, unit = "10 months")) %>%
# Group by date
group_by(Date) %>%
mutate(total_words = n()) %>%
ungroup() %>%
# Implement sentiment analysis using the NRC lexicon
inner_join(get_sentiments("nrc"))
sentiment_by_time2 <- newdata %>%
# Define a new column using floor_date()
mutate(Date = floor_date(Date, unit = "10 months")) %>%
# Group by date
group_by(Date) %>%
mutate(total_words = n()) %>%
#ungroup() %>%
# Implement sentiment analysis using the NRC lexicon
inner_join(get_sentiments("nrc"))
sentiment_by_time2 <- newdata %>%
# Define a new column using floor_date()
mutate(Date = floor_date(Date, unit = "10 months")) %>%
# Group by date
group_by(Date) %>%
mutate(total_words = n()) %>%
#ungroup() %>%
# Implement sentiment analysis using the NRC lexicon
#inner_join(get_sentiments("nrc"))
sentiment_by_time %>%
# Filter for positive and negative words
filter(sentiment %in% c("positive", "negative")) %>%
# Count by date, sentiment, and total_words
count(date, sentiment, total_words) %>%
ungroup() %>%
mutate(percent = n / total_words) %>%
# Set up the plot with aes()
ggplot(aes(date, percent, color = sentiment)) +
geom_line(size = 1.5) +
geom_smooth(method = "lm", se = FALSE, lty = 2) +
expand_limits(y = 0)
sentiment_by_time2 <- newdata %>%
# Define a new column using floor_date()
mutate(Date = floor_date(Date, unit = "10 months")) %>%
# Group by date
group_by(Date) %>%
mutate(total_words = n()) #%>%
View(sentiment_by_time2)
sentiment_by_time2 %>%
# Filter for positive and negative words
filter(sentiment %in% c("positive", "negative")) %>%
# Count by date, sentiment, and total_words
count(date, sentiment, total_words) %>%
ungroup() %>%
mutate(percent = n / total_words) %>%
# Set up the plot with aes()
ggplot(aes(date, percent, color = sentiment)) +
geom_line(size = 1.5) +
geom_smooth(method = "lm", se = FALSE, lty = 2) +
expand_limits(y = 0)
sentiment_by_time2 <- newdata %>%
# Define a new column using floor_date()
mutate(Date = floor_date(Date, unit = "10 months")) %>%
# Group by date
group_by(Date) %>%
mutate(total_words = n()) %>%
ungroup() %>%
# Implement sentiment analysis using the NRC lexicon
mutate(sentiment,get_sentiments("nrc"))
sentiment_by_time2 <- newdata %>%
# Define a new column using floor_date()
mutate(Date = floor_date(Date, unit = "10 months")) %>%
# Group by date
group_by(Date) %>%
mutate(total_words = n()) %>%
ungroup() %>%
# Implement sentiment analysis using the NRC lexicon
mutate(sentiments,get_sentiments("nrc"))
sentiment_by_time2 <- newdata %>%
# Define a new column using floor_date()
mutate(Date = floor_date(Date, unit = "10 months")) %>%
# Group by date
group_by(Date) %>%
mutate(total_words = n()) %>%
ungroup() %>%
# Implement sentiment analysis using the NRC lexicon
mutate(sentiments,get_sentiments("nrc"))
sentiment_by_time2 <- newdata %>%
# Define a new column using floor_date()
mutate(Date = floor_date(Date, unit = "10 months")) %>%
# Group by date
group_by(Date) %>%
mutate(total_words = n()) %>%
#ungroup() %>%
# Implement sentiment analysis using the NRC lexicon
mutate(sentiments,get_sentiments("nrc"))
sentiment_by_time2 <- newdata %>%
# Define a new column using floor_date()
mutate(Date = floor_date(Date, unit = "10 months")) %>%
# Group by date
group_by(Date) %>%
mutate(total_words = n())# %>%
View(sentiment_by_time2)
sentiment_by_time2 <- newdata %>%
# Define a new column using floor_date()
mutate(Date = floor_date(Date, unit = "10 months")) %>%
# Group by date
group_by(Date) %>%
mutate(total_words = n()) #%>%
View(sentiment_by_time2)
View(newdata)
?get_sentiments()
dates<- data$Date
data$Date <- as.Date(dates,
format = "%m/%d/%y")
newdata <- select(data, Date, Description)
sentiment_by_time2 <- newdata %>%
# Define a new column using floor_date()
mutate(Date = floor_date(Date, unit = "10 months")) %>%
# Group by date
group_by(Date) %>%
mutate(total_words = n()) %>%
ungroup() %>%
# Implement sentiment analysis using the NRC lexicon
inner_join(get_sentiments("nrc"))
sentiment_by_time2 %>%
# Filter for positive and negative words
filter(sentiment %in% c("positive", "negative")) %>%
# Count by date, sentiment, and total_words
count(date, sentiment, total_words) %>%
ungroup() %>%
mutate(percent = n / total_words) %>%
# Set up the plot with aes()
ggplot(aes(date, percent, color = sentiment)) +
geom_line(size = 1.5) +
geom_smooth(method = "lm", se = FALSE, lty = 2) +
expand_limits(y = 0)
sentiment_by_time2 <- newdata %>%
mutate(Date = floor_date(Date, unit = "10 months")) %>%
# Group by date
group_by(Date) %>%
mutate(total_words = n()) %>%
ungroup() %>%
inner_join(get_sentiments("nrc"))
sentiment_by_time2 <- newdata %>%
mutate(Date = floor_date(Date, unit = "10 months")) %>%
# Group by date
group_by(Date) %>%
mutate(total_words = n()) %>%
ungroup() %>%
get_sentiments('nrc')
sentiment_by_time2 <- newdata %>%
mutate(Date = floor_date(Date, unit = "10 months")) %>%
# Group by date
group_by(Date) %>%
mutate(total_words = n()) %>%
ungroup() %>%
get_sentiments("afinn")
library(lubridate)
library(dpylr)
library(tidytext)
library(lubridate)
library(dyplr)
library(dpylr)
install.packages('dpylr')
library(dplyr)
library(tidytext)
dates<- data$Date
data$Date <- as.Date(dates,
format = "%m/%d/%y")
newdata <- select(data, Date, Description)
sentiment_by_time2 <- newdata %>%
mutate(Date = floor_date(Date, unit = "10 months")) %>%
# Group by date
group_by(Date) %>%
mutate(total_words = n()) %>%
ungroup() %>%
get_sentiments("afinn")
df <- "wow I like cookies"
df <- get_sentiments('nrc')
View(df)
df <- "wow I like cookies"
df <- inner_join(get_sentiments('nrc'))
df <- "wow I like cookies"
df <- inner_join(get_sentiments('nrc'))
df <- "wow I like cookies"
df <- inner_join(get_sentiments('nrc'))
df <- get_sentiments('nrc')
sentiments <- get_sentiments('nrc')
View(sentiments)
sentiment_by_time2 <- newdata %>%
mutate(Date = floor_date(Date, unit = "10 months")) %>%
# Group by date
group_by(Date) %>%
mutate(total_words = n()) %>%
#ungroup() %>%
get_sentiments("nrc")
sentiment_by_time2 <- newdata %>%
mutate(Date = floor_date(Date, unit = "10 months")) %>%
# Group by date
group_by(Date) %>%
mutate(total_words = n()) %>%
#ungroup() %>%
#get_sentiments("nrc")
inner_join(get_sentiments("nrc"))
install.packages("wordcloud2")
library(wordcloud2)
library(dplyr)
library(RColorBrewer)
library(stringr)
data <- read.csv('data/cleandata.csv')
onestring <- paste( unlist(data$Description), collapse='')
onestring <- gsub('Lights', 'Light', onestring)
onestring <- gsub('Shaped', 'Shape', onestring)
onestring <- gsub('Objects', 'Object', onestring)
print(onestring)
View(onestring)
dataCorpus <- Corpus(VectorSource(onestring))
dataCorpus <- tm_map(dataCorpus, content_transformer(tolower))
dataCorpus <- tm_map(dataCorpus, removePunctuation)
dataCorpus <- tm_map(dataCorpus, PlainTextDocument)
dataCorpus <- tm_map(dataCorpus, removeWords, stopwords('english'))
wordcloud2(dataCorpus, size=1.6, color='random-light', backgroundColor="black")
wordcloud2(dataCorpus, size=1.6, color='random-light', backgroundColor="black")
onestring.df <-  onestring %>%
group_by(word) %>%
summarize(count = n()) %>%
arrange(-count)
all.words <- onestring %>%
unnest_tokens(word, text)
onestring <- as.data.frame(onestring)
all.words <- onestring %>%
unnest_tokens(word, text)
onestring.df <-  all.words %>%
group_by(word) %>%
summarize(count = n()) %>%
arrange(-count)
onestring.df <-  onestring %>%
group_by(word) %>%
summarize(count = n()) %>%
arrange(-count)
library(tidytext)
onestring.df <-  onestring %>%
group_by(word) %>%
summarize(count = n()) %>%
arrange(-count)
all.words <- onestring %>%
unnest_tokens(word, text)
View(onestring)
all.words <- onestring %>%
unnest_tokens(onestring, text)
strsplit(onestring, " ")
onestring <- paste( unlist(data$Description), collapse='')
onestringtest <- strsplit(onestring, " ")
onestringtest <- strsplit(onestring, " ") %>%
as.data.frame()
onestring.df <-  onestringtest %>%
group_by(word) %>%
summarize(count = n()) %>%
arrange(-count)
View(onestringtest)
colnames(onestringtest)[1] <- "word"
onestring.df <-  onestringtest %>%
group_by(word) %>%
summarize(count = n()) %>%
arrange(-count)
View(onestring.df)
data <- read.csv('data/cleandata.csv')
onestring <- paste( unlist(data$Description), collapse='')
onestring <- gsub('Lights', 'Light', onestring)
onestring <- gsub('Shaped', 'Shape', onestring)
data <- read.csv('data/cleandata.csv')
onestring <- paste( unlist(data$Description), collapse='')
onestring <- gsub('Lights', 'Light', onestring)
onestring <- gsub('Shaped', 'Shape', onestring)
onestring <- gsub('Objects', 'Object', onestring)
shiny::runApp()
tm_map
?tm_map
removePunctuation()
?removePunctuation
onestring <- removePunctuation()
onestring <- removePunctuation(onestring)
onestringtest <- strsplit(onestring, " ") %>%
as.data.frame()
colnames(onestringtest)[1] <- "word"
onestring.df <-  onestringtest %>%
group_by(word) %>%
summarize(count = n()) %>%
arrange(-count)
View(onestring.df)
onestring <- gsub(stopwords('en'), '', onestring)
rm_words <- function(string, words) {
stopifnot(is.character(string), is.character(words))
spltted <- strsplit(string, " ", fixed = TRUE) # fixed = TRUE for speedup
vapply(spltted, function(x) paste(x[!tolower(x) %in% words], collapse = " "), character(1))
}
rm_words(onestring, tm::stopwords("en"))
onestring222 <- rm_words(onestring, tm::stopwords("en"))
onestringtest <- strsplit(onestring222, " ") %>%
as.data.frame()
colnames(onestringtest)[1] <- "word"
onestring.df <-  onestringtest %>%
group_by(word) %>%
summarize(count = n()) %>%
arrange(-count)
View(onestring.df)
wordcloud2(onestring.df, size=1.6, color='random-light', backgroundColor="black")
wordcloud2(onestring.df, size=1.6, backgroundColor="black")
?wordcloud2
wordcloud2(onestring.df, size=1.6, backgroundColor=404338)
wordcloud2(onestring.df, size=1.6, backgroundColor=404348)
wordcloud2(onestring.df, size=1.6,word = "UFO", backgroundColor=404348)
letterCloud(onestring.df, size=1.6,word = "UFO", backgroundColor=404348)
letterCloud(onestring.df, size=1.6,word = "UFO", backgroundColor=404348)
onestring222 <- tolower(onestring222)
onestringtest <- strsplit(onestring222, " ") %>%
as.data.frame()
colnames(onestringtest)[1] <- "word"
onestring.df <-  onestringtest %>%
group_by(word) %>%
summarize(count = n()) %>%
arrange(-count)
letterCloud(onestring.df, size=1.6,word = "UFO", backgroundColor=404348)
letterCloud(onestring.df, size=1.6,word = "ufo", backgroundColor=404348)
letterCloud(onestring.df, size=1.6,word = "ufo", backgroundColor=404348)
onestring222 <- gsub('whte', 'Object', onestring)
onestring222 <- gsub('whte', 'white', onestring)
onestring222 <- gsub('nght', 'night', onestring)
onestring222 <- gsub('hgh', 'high', onestring)
onestring222 <- gsub('lke', 'like', onestring)
onestringtest <- strsplit(onestring222, " ") %>%
as.data.frame()
colnames(onestringtest)[1] <- "word"
onestring.df <-  onestringtest %>%
group_by(word) %>%
summarize(count = n()) %>%
arrange(-count)
wordcloud2(onestring.df, size=1.6, backgroundColor=404348)
data <- read.csv('data/cleandata.csv')
onestring <- paste( unlist(data$Description), collapse='')
onestring <- gsub('Lights', 'Light', onestring)
onestring <- gsub('Shaped', 'Shape', onestring)
onestring <- gsub('Objects', 'Object', onestring)
onestring <- gsub('Objects', 'Object', onestring)
rm_words <- function(string, words) {
stopifnot(is.character(string), is.character(words))
spltted <- strsplit(string, " ", fixed = TRUE) # fixed = TRUE for speedup
vapply(spltted, function(x) paste(x[!tolower(x) %in% words], collapse = " "), character(1))
}
onestring222 <- rm_words(onestring, tm::stopwords("en"))
onestring222 <- tolower(onestring222)
onestring222 <- gsub('whte', 'white', onestring)
onestring222 <- gsub('nght', 'night', onestring)
onestring222 <- gsub('hgh', 'high', onestring)
onestring222 <- gsub('lke', 'like', onestring)
onestringtest <- strsplit(onestring222, " ") %>%
as.data.frame()
colnames(onestringtest)[1] <- "word"
onestring.df <-  onestringtest %>%
group_by(word) %>%
summarize(count = n()) %>%
arrange(-count)
wordcloud(dataCorpus, max.words = 200, random.order = FALSE, colors =  color_pal,back)
wordcloud2
wordcloud2(onestring.df, size=1.6, backgroundColor=404348)
onestring <- gsub("[[:punct:][:blank:]]+", " ", onestring)
view(onestring)
print(onestring)
?stopwords
onestring <- gsub(stopwords("en"), onestring)
onestringtest <- strsplit(onestring222, " ") %>%
as.data.frame() %>%
anti_join(stop_words, by="word")
onestringtest <- strsplit(onestring222, " ") %>%
as.data.frame()
colnames(onestringtest)[1] <- "word"
onestringtest <-
anti_join(onestringtest, stop_words, by="word")
?anti_join()
wordcloud2(onestring.df, size=1.6, backgroundColor=404348)
no.stop.words <- all.words %>%
anti_join(stop_words, by="word")
onestringtest <-
anti_join(onestringtest, stop_words, by="word")
onestring <- paste( unlist(data$Description), collapse='')
onestring <- gsub('Lights', 'Light', onestring)
onestring <- gsub('Shaped', 'Shape', onestring)
onestring <- gsub('The', '', onestring)
onestring <- gsub('Objects', 'Object', onestring)
onestring222 <- tolower(onestring222)
onestringtest <- strsplit(onestring222, " ") %>%
as.data.frame()
colnames(onestringtest)[1] <- "word"
onestringtest <-
anti_join(onestringtest, stop_words, by="word")
onestring.df <-  onestringtest %>%
group_by(word) %>%
summarize(count = n()) %>%
arrange(-count)
wordcloud2
wordcloud2(onestring.df, size=1.6, backgroundColor=404348)
View(onestring.df)
letterCloud(onestring.df, size=1.6,word = "ufo", backgroundColor=404348)
?letterCloud
?wordcloud2
letterCloud(onestring.df, size=1.6,word = "ufo",color = 'white', backgroundColor=404348)
letterCloud(onestring.df, size=1.6,word = "ufo sighting",color = 'white', backgroundColor=404348)
letterCloud(onestring.df, size=1.6,word = "ufo",color = 'white', backgroundColor=404348)
letterCloud(onestring.df, size=1.6,word = "UFO",color = 'white', backgroundColor=404348)
library(tm)
library(SnowballC)
library(wordcloud2)
library(dplyr)
library(RColorBrewer)
library(stringr)
library(tidytext)
data <- read.csv('data/cleandata.csv')
onestring <- paste( unlist(data$Description), collapse='')
onestring <- gsub('Lights', 'Light', onestring)
onestring <- gsub('Shaped', 'Shape', onestring)
onestring <- gsub('The', '', onestring)
onestring <- gsub('Objects', 'Object', onestring)
onestring222 <- tolower(onestring222)
onestringtest <- strsplit(onestring222, " ") %>%
as.data.frame()
colnames(onestringtest)[1] <- "word"
onestringtest <-
anti_join(onestringtest, stop_words, by="word")
onestring.df <-  onestringtest %>%
group_by(word) %>%
summarize(count = n()) %>%
arrange(-count)
wordcloud2
wordcloud2(onestring.df, size=1.6, backgroundColor=404348)
letterCloud(onestring.df, size=1.6,word = "UFO",color = 'white', backgroundColor=404348)
